{% extends "base.html" %}
{% block title %}{{title}}{% endblock %}
{% block content %}
<div class="container-fluid">
    <div class="btn-group" role="group"><a class="btn btn-primary" role="button" href="/add_cast/{{vid}}" style="background: #07689f; border-width: 4px;border-color: #e0e0e0;">Add Cast</a></div>
    <hr>
    <table id="CastsTable" class="display">
        <thead>
            <tr>
                <th></th>
                <th>Picture</th>
                <th>Name</th>
                <th>Role</th>
                <th></th>
                
            </tr>
        </thead>
        <tbody>
            {% for cast in casts %}
            
            <tr>
                <td>{{ cast.to_dict()["order"] }}</td>
                {% if cast.to_dict()['picture'] == '' %}
                <td><img src="https://breakingtvfilestore.b-cdn.net/noimage.jpg" width="50" height="50" /></td>
                {% else %}
                <td><img src="{{cast.to_dict()['picture']}}" width="50" height="50" /></td>
                {% endif %}
                <td><b>{{ cast.to_dict()["name"] }}</b></td>
                <td>{{ cast.to_dict()["role"] }}</td>
                <td><button class="btn btn-light card" type="button" onclick="Sijax.request('delete_cast', ['{{vid}}', '{{cast.id}}'], { data: { csrf_token: '{{ csrf_token() }}' } });"><i style ="color: red" class="fas fa-trash"></i></button></td>
                
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
{% block customjs %}
<script>
    $(document).ready(function () {
        $('#CastsTable').DataTable();
    });
</script>
{% endblock customjs %}
