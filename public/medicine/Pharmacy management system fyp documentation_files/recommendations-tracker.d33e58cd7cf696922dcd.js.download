(self.webpackChunk=self.webpackChunk||[]).push([[1382],{54368:function(e,t,n){"use strict";n.d(t,{jg:function(){return r},vp:function(){return s},ej:function(){return c},T2:function(){return a}});const o=(e,t)=>{if(t.append("authenticity_token",$('meta[name="csrf-token"]').attr("content")),navigator.sendBeacon)try{navigator.sendBeacon(e,t)}catch{console.warn(`Failed to send tracking event to ${e}`)}else $.ajax({url:e,data:t,processData:!1,contentType:!1,type:"POST",success:function(t){t&&!t.success&&console.warn(`Failed to send tracking event to ${e}`)}})},i=e=>{const t=new FormData;return Object.keys(e).forEach((n=>{t.append(n,JSON.stringify(e[n]))})),t},r=(e,t)=>{o("/frontend_tracking/track_event",i({event_name:e,event_body:t}))},s=e=>{o("/frontend_tracking/track_batch",i({events:e}))},c=e=>{if(document.cookie){const t=document.cookie.split("; ").find((t=>t.startsWith(`${e}=`)));return t?t.split("=")[1]:""}return""},a=()=>window.slideshare_object&&window.slideshare_object.slideshow&&window.slideshare_object.slideshow.id||"-1"},15487:function(e,t,n){"use strict";var o=n(72045),i=n(54368);const r={queue:[],interval:null,visibilityListener:null},s=()=>{if(0===r.queue.length)return;const e=[...r.queue];r.queue=[],(0,i.vp)(e)},c=e=>{r.queue.push(e),r.queue.length>=10&&s(),r.interval||(r.interval=setInterval((()=>{s()}),12e4)),r.visibilityListener||(r.visibilityListener=window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&s()})))};var a=n(81030);const d={trackedRecs:{},viewId:(0,o.Z)(),modules:{}},u=(e,t)=>{const{index:n,sourceName:o,recommendationModulePosition:r,recId:s,score:c}=e.dataset;return{eventName:"rec_event_stream",eventBody:{event:t,index:n,rec_id:s,view_id:d.viewId,slideshow_id:(0,i.T2)(),source:o,score:c,module_position:r,module_type:d.modules[r],time_stamp:Date.now(),platform:(0,a.isMobile)()?"mobile_web":"desktop_web"}}},l=e=>{const t=e.currentTarget,n=u(t,"rc");c(n)},f=e=>{e.forEach((e=>{if(e.isIntersecting){const n=e.target,o=n.dataset.recId;if(!d.trackedRecs[o]){const e=u(n,"rv");t=o,d.trackedRecs[t]=!0,c(e)}}var t}))},v=e=>{const t=e.querySelectorAll(".recommendation");if(!t)return;const n=t[0],o=n.dataset.recommendationModulePosition;let i=n.dataset.sourceName;for(let e of t)if(e.dataset.sourceName!==i){i="MULTIPLE_SOURCES";break}d.modules[o]=i};window.feature_flags.recommendationImpressionTracking&&((()=>{const e=document.querySelectorAll(".recommendation-module");for(let t of e)v(t)})(),(()=>{const e=new IntersectionObserver(f,{root:null,threshold:.5}),t=document.querySelectorAll(".recommendation");for(let n of t)e.observe(n),n.addEventListener("click",l.bind(n))})())},78846:function(e,t,n){("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"1b643a431d416214328972468cb8ca1e38320094"}},81030:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=t.isMobile=t.isDesktop=t.getDeviceOrientation=void 0,t.isMobile=()=>document.body.offsetWidth<=928,t.isDesktop=()=>document.body.offsetWidth>928,t.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,t.getDeviceOrientation=()=>{let e;return e=window.orientation?0===window.orientation?"portrait":"landscape":(window.innerWidth||screen.width)>(window.innerHeight||screen.height)?"landscape":"portrait",e}},13653:function(e,t,n){"use strict";var o;n.d(t,{Z:function(){return r}});var i=new Uint8Array(16);function r(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}},3958:function(e,t,n){"use strict";for(var o=n(27738),i=[],r=0;r<256;++r)i.push((r+256).toString(16).substr(1));t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,o.Z)(n))throw TypeError("Stringified UUID is invalid");return n}},72045:function(e,t,n){"use strict";var o=n(13653),i=n(3958);t.Z=function(e,t,n){var r=(e=e||{}).random||(e.rng||o.Z)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return(0,i.Z)(r)}},27738:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&o.test(e)}}},function(e){var t=function(t){return e(e.s=t)};t(78846),t(15487)}]);
//# sourceMappingURL=recommendations-tracker.d33e58cd7cf696922dcd.js.map